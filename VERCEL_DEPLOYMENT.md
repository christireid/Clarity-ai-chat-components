# Vercel Deployment Guide - Clarity Chat Documentation

This guide will help you deploy the Clarity Chat UI documentation site to Vercel.

---

## üöÄ Quick Deployment Steps

### Method 1: Deploy via Vercel Dashboard (Recommended)

1. **Go to Vercel Dashboard**
   - Visit: https://vercel.com/dashboard
   - Sign in with your GitHub account

2. **Import Project**
   - Click "Add New..." ‚Üí "Project"
   - Select "Import Git Repository"
   - Choose: `christireid/Clarity-ai-chat-components`
   - Click "Import"

3. **Configure Project**
   
   **Root Directory:**
   - Set to: `apps/docs-site`
   - This tells Vercel where the documentation site lives
   
   **Framework Preset:**
   - Auto-detected: Next.js ‚úÖ
   
   **Build Command:**
   ```bash
   npm run build
   ```
   
   **Output Directory:**
   ```
   .next
   ```
   
   **Install Command:**
   ```bash
   npm install
   ```
   
   **Node Version:**
   - 18.x (auto-detected)

4. **Environment Variables** (if needed)
   - None required for static documentation
   - All configuration is in code

5. **Deploy!**
   - Click "Deploy"
   - Wait ~2-3 minutes for build
   - Get your live URL! üéâ

---

### Method 2: Deploy via Vercel CLI

If you prefer command-line deployment:

1. **Install Vercel CLI**
   ```bash
   npm install -g vercel
   ```

2. **Login to Vercel**
   ```bash
   vercel login
   ```

3. **Deploy from docs-site directory**
   ```bash
   cd apps/docs-site
   vercel
   ```

4. **Follow prompts:**
   - Set up and deploy? `Y`
   - Which scope? Select your account
   - Link to existing project? `N` (first time) or `Y` (subsequent)
   - Project name: `clarity-chat-docs`
   - Directory: `./` (already in docs-site)
   - Override settings? `N`

5. **Production Deployment**
   ```bash
   vercel --prod
   ```

---

## üîß Vercel Configuration Files

### Root Configuration: `vercel.json`
Located at repository root, handles monorepo setup:

```json
{
  "$schema": "https://openapi.vercel.sh/vercel.json",
  "version": 2,
  "name": "clarity-chat-docs",
  "buildCommand": "cd apps/docs-site && npm install && npm run build",
  "outputDirectory": "apps/docs-site/.next",
  "framework": "nextjs"
}
```

### Docs-Site Configuration: `apps/docs-site/vercel.json`
Specific settings for the documentation site:

```json
{
  "buildCommand": "npm run build",
  "devCommand": "npm run dev",
  "installCommand": "npm install",
  "framework": "nextjs",
  "outputDirectory": ".next"
}
```

---

## üåê Custom Domain Setup

### Add Custom Domain

1. **Go to Project Settings**
   - Open your project in Vercel
   - Go to "Settings" ‚Üí "Domains"

2. **Add Domain**
   - Click "Add"
   - Enter: `clarity-chat.dev` (or your domain)
   - Click "Add"

3. **Configure DNS**
   
   **For apex domain (clarity-chat.dev):**
   - Type: `A`
   - Name: `@`
   - Value: `76.76.21.21` (Vercel's IP)
   
   **For www subdomain:**
   - Type: `CNAME`
   - Name: `www`
   - Value: `cname.vercel-dns.com`
   
   **For docs subdomain (docs.clarity-chat.dev):**
   - Type: `CNAME`
   - Name: `docs`
   - Value: `cname.vercel-dns.com`

4. **Wait for Verification**
   - DNS propagation: 5-60 minutes
   - SSL certificate: Auto-generated by Vercel
   - HTTPS: Automatically enabled

---

## üìä Deployment Verification

After deployment, verify these URLs:

### Core Pages
- ‚úÖ Homepage: `https://your-site.vercel.app/`
- ‚úÖ Getting Started: `https://your-site.vercel.app/getting-started`
- ‚úÖ Installation: `https://your-site.vercel.app/installation`
- ‚úÖ Components: `https://your-site.vercel.app/components`

### Component Examples
- ‚úÖ Button: `https://your-site.vercel.app/reference/components/button`
- ‚úÖ Card: `https://your-site.vercel.app/reference/components/card`
- ‚úÖ Modal: `https://your-site.vercel.app/reference/components/modal`

### SEO Assets
- ‚úÖ Sitemap: `https://your-site.vercel.app/sitemap.xml`
- ‚úÖ Robots: `https://your-site.vercel.app/robots.txt`
- ‚úÖ OG Image: `https://your-site.vercel.app/opengraph-image`

---

## üîÑ Continuous Deployment

Vercel automatically deploys on every push to main:

### Automatic Deployments
- **Push to `main`** ‚Üí Production deployment
- **Pull requests** ‚Üí Preview deployments
- **Other branches** ‚Üí Development deployments

### Deployment Notifications
- GitHub commit status checks
- Vercel dashboard notifications
- Email notifications (optional)
- Slack/Discord webhooks (optional)

---

## ‚ö° Performance Optimizations

Vercel automatically provides:

### Edge Network
- ‚úÖ Global CDN (Edge Network)
- ‚úÖ 100+ edge locations worldwide
- ‚úÖ Automatic caching
- ‚úÖ Asset optimization

### Image Optimization
- ‚úÖ Next.js Image Optimization API
- ‚úÖ WebP/AVIF conversion
- ‚úÖ Responsive images
- ‚úÖ Lazy loading

### Build Optimization
- ‚úÖ Incremental Static Regeneration (ISR)
- ‚úÖ Code splitting
- ‚úÖ Tree shaking
- ‚úÖ Minification

---

## üêõ Troubleshooting

### Build Fails

**Error: Module not found**
```bash
# Solution: Ensure all dependencies are installed
cd apps/docs-site
npm install
npm run build
```

**Error: Build timeout**
```bash
# Solution: Contact Vercel support or optimize build
# Vercel has generous build times, usually not an issue
```

### Deployment Issues

**Site not loading**
- Check build logs in Vercel dashboard
- Verify root directory is set to `apps/docs-site`
- Ensure package.json has correct scripts

**404 errors**
- Check Next.js routing configuration
- Verify all pages are in `app/` directory
- Check `next.config.js` configuration

### Custom Domain Issues

**Domain not verified**
- Wait 5-60 minutes for DNS propagation
- Verify DNS records are correct
- Use `dig` or `nslookup` to check DNS

**SSL certificate pending**
- Wait for Vercel to issue certificate (usually 5 minutes)
- Ensure domain is verified
- Check Vercel dashboard for status

---

## üìà Post-Deployment

### 1. Enable Analytics

**Vercel Analytics (Recommended)**
```bash
# Install Vercel Analytics
cd apps/docs-site
npm install @vercel/analytics
```

Add to `app/layout.tsx`:
```typescript
import { Analytics } from '@vercel/analytics/react';

export default function RootLayout({ children }) {
  return (
    <html>
      <body>
        {children}
        <Analytics />
      </body>
    </html>
  );
}
```

### 2. Enable Speed Insights

```bash
npm install @vercel/speed-insights
```

Add to `app/layout.tsx`:
```typescript
import { SpeedInsights } from '@vercel/speed-insights/next';

export default function RootLayout({ children }) {
  return (
    <html>
      <body>
        {children}
        <SpeedInsights />
      </body>
    </html>
  );
}
```

### 3. Configure Redirects (if needed)

In `vercel.json`:
```json
{
  "redirects": [
    {
      "source": "/docs/:path*",
      "destination": "/:path*",
      "permanent": true
    }
  ]
}
```

---

## üéØ Expected Results

After successful deployment:

### Build Time
- **First build:** 2-3 minutes
- **Subsequent builds:** 1-2 minutes (with caching)

### Performance Scores
- **Performance:** 95-100
- **Accessibility:** 95-100
- **Best Practices:** 100
- **SEO:** 100

### Site Features
- ‚úÖ Global CDN delivery
- ‚úÖ Automatic HTTPS
- ‚úÖ Image optimization
- ‚úÖ Edge caching
- ‚úÖ Instant rollbacks
- ‚úÖ Preview deployments

---

## üîó Useful Links

- **Vercel Dashboard:** https://vercel.com/dashboard
- **Vercel Docs:** https://vercel.com/docs
- **Next.js on Vercel:** https://vercel.com/docs/frameworks/nextjs
- **Custom Domains:** https://vercel.com/docs/concepts/projects/domains
- **Environment Variables:** https://vercel.com/docs/concepts/projects/environment-variables

---

## üéâ Success!

Once deployed, your documentation site will be live at:
- **Vercel URL:** `https://clarity-chat-docs.vercel.app`
- **Custom Domain:** `https://clarity-chat.dev` (if configured)

Share your documentation with the world! üöÄ

---

## üìû Support

If you encounter any issues:

1. Check Vercel deployment logs
2. Review this guide's troubleshooting section
3. Consult Vercel documentation
4. Contact Vercel support (excellent support!)
5. Check GitHub Issues for the project

---

*Last updated: October 31, 2025*
